"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OrmConfigFactory=void 0;const orm_module_config_properties_1=require("./orm.module.config.properties"),common_1=require("@nestjs/common"),core_1=require("@mikro-orm/core"),sql_highlighter_1=require("@mikro-orm/sql-highlighter"),logger=new common_1.Logger("MikroORM");class OrmConfigFactory{constructor(e){this.configService=e}buildConfig(){return{entities:["dist/model"],entitiesTs:["src/model"],host:this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_HOST),dbName:this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_SCHEMA),user:this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_USER),password:this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_PASSWORD),type:"postgresql",port:this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_PORT),metadataProvider:core_1.ReflectMetadataProvider,highlighter:new sql_highlighter_1.SqlHighlighter,debug:"true"===this.configService.get(orm_module_config_properties_1.OrmModuleConfigProperties.ENV_DATABASE_PORT),logger:logger.log.bind(logger)}}}exports.OrmConfigFactory=OrmConfigFactory;