"use strict";var ProductsService_1,__decorate=this&&this.__decorate||function(e,t,r,o){var c,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(i=(s<3?c(i):s>3?c(t,r,i):c(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductsService=void 0;const core_1=require("@mikro-orm/core"),nestjs_1=require("@mikro-orm/nestjs"),common_1=require("@nestjs/common"),product_entity_1=require("../model/product.entity");let ProductsService=ProductsService_1=class{constructor(e){this.productsRepository=e,this.logger=new common_1.Logger(ProductsService_1.name)}async findAll(){return this.logger.debug("Find all products"),this.productsRepository.findAll({orderBy:{created_at:"desc"}})}async findLatest(e){return this.logger.debug(`Find ${e} latest products`),this.productsRepository.find({},{limit:e,orderBy:{created_at:"desc"}})}};ProductsService=ProductsService_1=__decorate([common_1.Injectable(),__param(0,nestjs_1.InjectRepository(product_entity_1.Product)),__metadata("design:paramtypes",[core_1.EntityRepository])],ProductsService),exports.ProductsService=ProductsService;